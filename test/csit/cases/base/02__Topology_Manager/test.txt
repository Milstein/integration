*** Settings ***
Library       Collections
Library       RequestsLibrary

*** Testcases ***
Get Topology
    ${nodeconn1}=  Set Variable  NodeConnector":{"type":"OF","node":{"type":"OF","id":"00:00:00:00:00:00:00:01"},"id":"1"}
    ${nodeconn2}=  Set Variable  NodeConnector":{"type":"OF","node":{"type":"OF","id":"00:00:00:00:00:00:00:01"},"id":"2"}
    ${nodeconn3}=  Set Variable  NodeConnector":{"type":"OF","node":{"type":"OF","id":"00:00:00:00:00:00:00:02"},"id":"3"}
    ${nodeconn4}=  Set Variable  NodeConnector":{"type":"OF","node":{"type":"OF","id":"00:00:00:00:00:00:00:03"},"id":"3"}
    ${auth}=    Create List    admin    admin
    ${headers}=    Create Dictionary    Content-Type   application/json
    Create Session    controller   http://10.125.136.52:8080    headers=${headers}   auth=${auth} 
    ${resp}=    Get    controller    /controller/nb/v2/topology/default 
    Should Be Equal As Strings    ${resp.status_code}    200
    Log    ${resp.content}
    Should Contain X Times  ${resp.content}   ${nodeconn1}   2
    Should Contain X Times  ${resp.content}   ${nodeconn2}   2
    Should Contain X Times  ${resp.content}   ${nodeconn3}   2
    Should Contain X Times  ${resp.content}   ${nodeconn4}   2
